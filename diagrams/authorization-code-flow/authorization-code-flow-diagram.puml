@startuml
'https://plantuml.com/sequence-diagram

autonumber

participant Użytkownik as user
participant "Simple bills GUI (frontend)" as gui
participant "Keycloak (OAuth2)" as keycloak
participant "Transaction management " as transactions


user -> gui: click login link
gui -> keycloak: Authorization Code Request
keycloak -> user: Redirect to Keycloak login page
user -> keycloak: Logging in
keycloak -> gui: Authorization Code
gui -> keycloak: Authorization Code + Client ID + Redirect URI
keycloak -> keycloak: Validate
keycloak -> gui: ID Token and Access Token
gui -> transactions: Request user data with Access Token
transactions -> gui: response

'Użytkownik -> "Simple bills GUI (frontend)": Click login link
'Bob --> Alice: Authentication Response
'
'Alice -> Bob: Another authentication Request
'Alice <-- Bob: another authentication Response


@enduml